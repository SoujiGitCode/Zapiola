var app = angular.module('myApp', ['ui.bootstrap']); app.filter('startFrom', function() {return function(input, start) {if (input) {start = +start; return input.slice(start); } return []; } }); app.controller('paginado', function($scope, $http, $window) {$(".preload").show(); $("#properties").hide(); $scope.propertyName = 'price_1'; $scope.reverse = false; $scope.entryLimit = 30; $scope.rows = function() {$http.get($("#url").val() + "/api/properties/"+$("#lang").val()+"/" + $("#type_id").val() + "/" + $("#area").val() + "/" + $("#bedroom").val() + "/" + $("#bathroom").val()).then(function successCallback(response) {$scope.list = response.data; $scope.currentPage = 1; $scope.filteredItems = $scope.list.length; $scope.totalItems = $scope.list.length; $("#properties").show(); $(".preload").hide(); }); }; $scope.rows(); $scope.setPage = function(pageNo) {$scope.currentPage = pageNo; }; $scope.sortBy = function(propertyName) {$scope.reverse = ($scope.propertyName === propertyName) ? !$scope.reverse : false; $scope.propertyName = propertyName; }; }); function searchFilter() {$(".preload").show(); $("#properties").hide(); angular.element($('[ng-controller="paginado"]')).scope().rows(); } function sortyBy() {angular.element($('[ng-controller="paginado"]')).scope().sortBy($("#filter").val()); }